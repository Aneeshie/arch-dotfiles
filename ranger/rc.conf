# ===================================================================
# RANGER CONFIGURATION - PRODUCTIVITY FOCUSED
# ===================================================================

# General Settings
set viewmode multipane
set column_ratios 1,3,4
set hidden_filter ^\.|\.(?:pyc|pyo|bak|swp)$|^lost\+found$|^__(py)?cache__$
set show_hidden false
set confirm_on_delete multiple
set use_preview_script true
set automatically_count_files true
set open_all_images true
set vcs_aware true
set vcs_backend_git enabled
set vcs_backend_hg disabled
set vcs_backend_bzr disabled

# Preview Settings
set preview_images true
set preview_images_method ueberzug
set unicode_ellipsis false
set show_selection_in_titlebar true
set idle_delay 2000
set metadata_deep_search false

# Sorting
set sort natural
set sort_reverse false
set sort_case_insensitive true
set sort_directories_first true
set sort_unicode false

# Appearance
set draw_borders true
set draw_progress_bar_in_status_bar true
set display_size_in_main_column true
set display_size_in_status_bar true
set display_tags_in_all_columns true

# Performance optimizations for large directories
set max_history_size 20
set max_console_history_size 50
set scroll_offset 8
set flushinput true
set padding_right true
set autosave_bookmarks true
set save_console_history true
set status_bar_on_top false
set draw_bookmarks true

# Key bindings for productivity
map yp shell -f echo -n %d/%f | xsel -i; xsel -o | xsel -i -b
map yd shell -f echo -n %d    | xsel -i; xsel -o | xsel -i -b
map yn shell -f echo -n %f    | xsel -i; xsel -o | xsel -i -b

# Git integration
map gd shell git diff
map gl shell git log
map gs shell git status
map ga shell git add %f
map gc shell git commit

# Quick edit with nvim
map E shell nvim %f

# Quick navigation to common directories
map gh cd ~
map gd cd ~/Downloads
map gD cd ~/Documents
map gp cd ~/Pictures
map gc cd ~/.config
map gr cd /
map gm cd /media
map gu cd /usr

# Archive extraction
map ex shell aunpack %f

# Trash instead of delete
map DD shell trash-put %s

# Image operations
map bg shell feh --bg-scale %f

# Quick terminal
map T shell ghostty

# Quick file operations
map mkd console mkdir%space
map mkf console touch%space

# Bulk rename
map cw console rename%space

# Show/hide dotfiles
map . set show_hidden!

# Sorting shortcuts
map sn set sort=natural
map ss set sort=size
map st set sort=mtime
map sc set sort=ctime

# Quick preview toggle
map zp set preview_images!
map zi set preview_images_method

# Directory bookmarks
map `<any> enter_bookmark %any
map '<any> enter_bookmark %any
map m<any> set_bookmark %any
map um<any> unset_bookmark %any

# Tab management
map <C-n> tab_new ~
map <C-w> tab_close
map gt tab_move 1
map gT tab_move -1

# Quick search
map / console search%space
map n search_next
map N search_next forward=False
